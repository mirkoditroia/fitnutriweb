(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{854:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(2115),a=r(2553),i=r(1272),n=r(2663);function o(){let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!i.j2)return void o(!1);let e=(0,a.hg)(i.j2,e=>{t(e),o(!1)});return()=>e()},[]),{user:e,loading:r,logout:async()=>{if(i.j2)try{await (0,a.CI)(i.j2),n.toast.success("\uD83D\uDC4B Logout effettuato con successo")}catch(e){console.error("Errore logout:",e),n.toast.error("❌ Errore durante il logout")}}}}},1272:(e,t,r)=>{"use strict";r.d(t,{j2:()=>m,db:()=>u});var s=r(2078),a=r(2553),i=r(9708),n=r(2377),o=r(5704);let l=n.Ik({NEXT_PUBLIC_FIREBASE_API_KEY:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_PROJECT_ID:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_APP_ID:n.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:n.Yj().optional().default("")}).parse({NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyAp1IXe0d2yE-BSrZLGKHfDkdkm1NuSwfs",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"gznutrition-d5d13.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"gznutrition-d5d13",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"gznutrition-d5d13.firebasestorage.app",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"658719519730",NEXT_PUBLIC_FIREBASE_APP_ID:"1:658719519730:web:37dafec47d6f4e6c0db16b",NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:o.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID});r(4663);let c={apiKey:l.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:l.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:l.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:l.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:l.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:l.NEXT_PUBLIC_FIREBASE_APP_ID},d=l.NEXT_PUBLIC_FIREBASE_API_KEY&&l.NEXT_PUBLIC_FIREBASE_PROJECT_ID&&l.NEXT_PUBLIC_FIREBASE_APP_ID?(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(c):null,m=d?(0,a.xI)(d):void 0,u=d?(0,i.aU)(d):void 0},2199:(e,t,r)=>{"use strict";r.d(t,{AdminProtected:()=>u});var s=r(5155),a=r(2115),i=r(2553),n=r(1272),o=r(3998),l=r(5142),c=r(2663);function d(e){let{onLoginSuccess:t}=e,[r,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[E,_]=(0,a.useState)(""),f=async e=>{if(e.preventDefault(),h(!0),_(""),!n.j2){_("Firebase non configurato"),h(!1);return}try{let e=await (0,i.x9)(n.j2,r,m);c.toast.success("✅ Accesso effettuato con successo!"),t(e.user)}catch(t){console.error("Errore login:",t);let e="Errore durante l'accesso";switch(t.code){case"auth/user-not-found":e="Utente non trovato";break;case"auth/wrong-password":e="Password errata";break;case"auth/invalid-email":e="Email non valida";break;case"auth/too-many-requests":e="Troppi tentativi. Riprova pi\xf9 tardi";break;case"auth/network-request-failed":e="Errore di connessione";break;default:e=t.message||"Errore sconosciuto"}_(e),c.toast.error("❌ ".concat(e))}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"\uD83D\uDD10 Admin Access"})}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground",children:"Email"}),(0,s.jsx)(l.p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>d(e.target.value),className:"mt-1",placeholder:"admin@gznutrition.it"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground",children:"Password"}),(0,s.jsx)(l.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:m,onChange:e=>u(e.target.value),className:"mt-1",placeholder:"••••••••"})]})]}),E&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:E})}),(0,s.jsx)("div",{children:(0,s.jsx)(o.$,{type:"submit",disabled:x,className:"w-full bg-primary hover:bg-primary/90",children:x?"⏳ Accesso in corso...":"\uD83D\uDE80 Accedi"})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-xs text-foreground/50",children:"Solo gli amministratori autorizzati possono accedere"})})]})})}var m=r(854);function u(e){let{children:t}=e,{user:r,loading:a}=(0,m.A)();return a?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-foreground/70",children:"Verifica autenticazione..."})]})}):r?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{onLoginSuccess:e=>{c.toast.success("\uD83D\uDC4B Benvenuto, ".concat(e.email))}}),(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsxs)("p",{className:"text-sm text-foreground/50",children:["Non hai ancora un account admin?"," ",(0,s.jsx)("a",{href:"/admin/setup",className:"text-primary hover:text-primary/80 underline",children:"Crea il primo account"})]})})]})}},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(5155),a=r(2115),i=r(5889),n=r(2821);let o=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="primary",size:o="md",fullWidth:l,...c}=e;return(0,s.jsx)("button",{ref:t,className:(0,i.QP)((0,n.$)("btn",{primary:"btn-primary",secondary:"btn-outline",ghost:"hover:bg-[color:var(--muted-bg)]",outline:"btn-outline"}[a],{sm:"px-3 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[o],l&&"w-full"),r),...c})});o.displayName="Button"},5142:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),a=r(2115),i=r(5889);let n=(0,a.forwardRef)((e,t)=>{let{className:r,label:a,error:n,id:o,...l}=e,c=o||l.name||"input";return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{htmlFor:c,className:"block text-sm font-medium mb-1 text-foreground",children:a}),(0,s.jsx)("input",{id:c,ref:t,className:(0,i.QP)("w-full rounded-lg border border-foreground/10 bg-background/70 backdrop-blur-sm px-3.5 py-2.5 text-sm text-foreground placeholder:text-foreground/50","focus:outline-none focus:ring-4 focus:ring-[rgba(var(--primary-rgb),0.15)] focus:ring-offset-0",n&&"border-accent",r),"aria-invalid":!!n,"aria-describedby":n?"".concat(c,"-error"):void 0,...l}),n&&(0,s.jsx)("p",{id:"".concat(c,"-error"),className:"mt-1 text-xs text-destructive",children:n})]})});n.displayName="Input"},6029:(e,t,r)=>{Promise.resolve().then(r.bind(r,6861)),Promise.resolve().then(r.bind(r,2199))},6861:(e,t,r)=>{"use strict";r.d(t,{AdminHeader:()=>l});var s=r(5155),a=r(2619),i=r.n(a),n=r(854),o=r(3998);function l(){let{user:e,logout:t}=(0,n.A)();return(0,s.jsx)("header",{className:"bg-black border-b border-gray-800 shadow-lg sticky top-0 z-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-white",children:"⚙️ Admin Panel"}),(0,s.jsxs)("nav",{className:"hidden md:flex gap-6",children:[(0,s.jsx)(i(),{href:"/admin",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/admin/bookings",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Prenotazioni"}),(0,s.jsx)(i(),{href:"/admin/clients",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Clienti"}),(0,s.jsx)(i(),{href:"/admin/packages",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Pacchetti"}),(0,s.jsx)(i(),{href:"/admin/content",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Contenuti"}),(0,s.jsx)(i(),{href:"/admin/availability",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Disponibilit\xe0"}),(0,s.jsx)(i(),{href:"/admin/calendar",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"\uD83D\uDCC5 Calendario"}),(0,s.jsx)(i(),{href:"/admin/settings",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"⚙️ Impostazioni"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,s.jsx)("div",{className:"hidden md:flex items-center gap-2 text-sm text-white/70",children:(0,s.jsxs)("span",{children:["\uD83D\uDC64 ",e.email]})}),(0,s.jsx)(i(),{href:"/",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors font-medium text-sm",children:"\uD83C\uDFE0 Homepage"}),(0,s.jsx)(o.$,{onClick:t,variant:"outline",className:"px-4 py-2 text-sm border-white/20 text-white hover:bg-white/10",children:"\uD83D\uDEAA Logout"})]})]})})})}}},e=>{e.O(0,[9135,3965,8744,2663,4909,2619,8441,1255,7358],()=>e(e.s=6029)),_N_E=e.O()}]);