(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{2063:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(5155),l=t(2115),r=t(9018),n=t(3998),i=t(5142),c=t(2663),d=t(740);function o(){let[e,a]=(0,l.useState)(new Date),[t,o]=(0,l.useState)(60),[m,u]=(0,l.useState)("09:00"),[p,x]=(0,l.useState)("18:00"),[b,g]=(0,l.useState)([]),h=function(e){let a=e=>String(e).padStart(2,"0");return"".concat(e.getFullYear(),"-").concat(a(e.getMonth()+1),"-").concat(a(e.getDate()))}(e),v=async()=>{var e;let a=await (0,r.ho)(h);g(null!=(e=null==a?void 0:a.slots)?e:[])},j=async()=>{await (0,r.wb)(h,b),c.oR.success("Disponibilit\xe0 salvata")};return(0,s.jsxs)("main",{className:"container py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Disponibilit\xe0"}),(0,s.jsxs)("div",{className:"card p-6 mt-4 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Data"}),(0,s.jsx)(d.Ay,{selected:e,onChange:e=>e&&a(e),dateFormat:"dd/MM/yyyy",className:"w-full rounded-md border border-foreground/20 bg-background px-3 py-2 text-sm",minDate:new Date})]}),(0,s.jsx)(i.p,{label:"Inizio",value:m,onChange:e=>u(e.target.value)}),(0,s.jsx)(i.p,{label:"Fine",value:p,onChange:e=>x(e.target.value)}),(0,s.jsx)(i.p,{label:"Intervallo (min)",type:"number",value:t,onChange:e=>o(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{onClick:v,children:"Carica esistenti"}),(0,s.jsx)(n.$,{onClick:()=>{let e=[],[a,s]=m.split(":").map(Number),[l,r]=p.split(":").map(Number),n=new Date(h+"T00:00:00"),i=new Date(n);i.setHours(a,s,0,0);let c=new Date(n);for(c.setHours(l,r,0,0);i<=c;)e.push(i.toISOString()),i=new Date(i.getTime()+6e4*t);g(e)},children:"Genera slot"}),(0,s.jsx)(n.$,{onClick:j,children:"Salva"})]})]}),(0,s.jsxs)("div",{className:"mt-4 card p-6",children:[(0,s.jsxs)("h2",{className:"font-semibold",children:["Slot (",b.length,")"]}),(0,s.jsx)("ul",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:b.map((e,a)=>(0,s.jsx)("li",{className:"rounded-md border border-[color:var(--border)] px-3 py-2",children:new Date(e).toLocaleString()},a))})]})]})}t(9157)},5142:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),l=t(2115),r=t(5889);let n=(0,l.forwardRef)((e,a)=>{let{className:t,label:l,error:n,id:i,...c}=e,d=i||c.name||"input";return(0,s.jsxs)("div",{className:"w-full",children:[l&&(0,s.jsx)("label",{htmlFor:d,className:"block text-sm font-medium mb-1",children:l}),(0,s.jsx)("input",{id:d,ref:a,className:(0,r.QP)("w-full rounded-md border border-foreground/20 bg-background px-3 py-2 text-sm placeholder:text-foreground/50 focus-visible:outline-primary",n&&"border-accent",t),"aria-invalid":!!n,"aria-describedby":n?"".concat(d,"-error"):void 0,...c}),n&&(0,s.jsx)("p",{id:"".concat(d,"-error"),className:"mt-1 text-xs text-accent",children:n})]})});n.displayName="Input"},7001:(e,a,t)=>{Promise.resolve().then(t.bind(t,2063))}},e=>{e.O(0,[38,135,965,579,545,663,136,91,569,441,255,358],()=>e(e.s=7001)),_N_E=e.O()}]);