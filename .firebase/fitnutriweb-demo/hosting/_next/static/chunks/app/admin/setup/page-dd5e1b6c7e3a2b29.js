(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6912],{3998:(e,a,r)=>{"use strict";r.d(a,{$:()=>l});var s=r(95155),t=r(12115),o=r(75889),i=r(2821);let l=(0,t.forwardRef)((e,a)=>{let{className:r,variant:t="primary",size:l="md",fullWidth:d,...n}=e;return(0,s.jsx)("button",{ref:a,className:(0,o.QP)((0,i.$)("btn",{primary:"btn-primary",secondary:"btn-outline",ghost:"hover:bg-[color:var(--muted-bg)]",outline:"btn-outline"}[t],{sm:"px-3 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[l],d&&"w-full"),r),...n})});l.displayName="Button"},25264:(e,a,r)=>{Promise.resolve().then(r.bind(r,38825))},38825:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>c});var s=r(95155),t=r(12115),o=r(12553),i=r(71272),l=r(3998),d=r(65142),n=r(22663);function c(){let[e,a]=(0,t.useState)(""),[r,c]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[E,_]=(0,t.useState)(""),[p,x]=(0,t.useState)(!1),[I,N]=(0,t.useState)(""),b=async s=>{if(s.preventDefault(),x(!0),N(""),r!==m){N("Le password non coincidono"),x(!1);return}if(r.length<6){N("La password deve essere di almeno 6 caratteri"),x(!1);return}if(!i.j2){N("Firebase non configurato"),x(!1);return}try{let s=await (0,o.eJ)(i.j2,e,r);E&&await (0,o.r7)(s.user,{displayName:E}),n.toast.success("✅ Account admin creato con successo!"),a(""),c(""),u(""),_("")}catch(a){console.error("Errore creazione admin:",a);let e="Errore durante la creazione dell'account";switch(a.code){case"auth/email-already-in-use":e="Email gi\xe0 in uso";break;case"auth/invalid-email":e="Email non valida";break;case"auth/weak-password":e="Password troppo debole";break;case"auth/network-request-failed":e="Errore di connessione";break;default:e=a.message||"Errore sconosciuto"}N(e),n.toast.error("❌ ".concat(e))}finally{x(!1)}};return(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"\uD83D\uDD27 Setup Admin"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-foreground/70",children:"Crea il primo account amministratore"})]}),(0,s.jsxs)("form",{className:"space-y-6",onSubmit:b,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground",children:"Nome Admin"}),(0,s.jsx)(d.p,{id:"displayName",name:"displayName",type:"text",value:E,onChange:e=>_(e.target.value),className:"mt-1",placeholder:"Nome Amministratore"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground",children:"Email"}),(0,s.jsx)(d.p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>a(e.target.value),className:"mt-1",placeholder:"admin@gznutrition.it"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground",children:"Password"}),(0,s.jsx)(d.p,{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:e=>c(e.target.value),className:"mt-1",placeholder:"••••••••"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground",children:"Conferma Password"}),(0,s.jsx)(d.p,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:m,onChange:e=>u(e.target.value),className:"mt-1",placeholder:"••••••••"})]}),I&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:I})}),(0,s.jsx)("div",{children:(0,s.jsx)(l.$,{type:"submit",disabled:p,className:"w-full bg-primary hover:bg-primary/90",children:p?"⏳ Creazione in corso...":"\uD83D\uDE80 Crea Account Admin"})})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-black mb-2",children:"\uD83D\uDCA1 Informazioni:"}),(0,s.jsxs)("div",{className:"text-xs text-black/70 space-y-1",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Sicurezza"}),": Usa una password forte e unica"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Email"}),": Deve essere un indirizzo email valido"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Accesso"}),": Dopo la creazione potrai accedere con queste credenziali"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Gestione"}),": Puoi creare pi\xf9 account admin se necessario"]})]})]})]})}},65142:(e,a,r)=>{"use strict";r.d(a,{p:()=>i});var s=r(95155),t=r(12115),o=r(75889);let i=(0,t.forwardRef)((e,a)=>{let{className:r,label:t,error:i,id:l,...d}=e,n=l||d.name||"input";return(0,s.jsxs)("div",{className:"w-full",children:[t&&(0,s.jsx)("label",{htmlFor:n,className:"block text-sm font-medium mb-1 text-foreground",children:t}),(0,s.jsx)("input",{id:n,ref:a,className:(0,o.QP)("w-full rounded-lg border border-foreground/10 bg-background/70 backdrop-blur-sm px-3.5 py-2.5 text-sm text-foreground placeholder:text-foreground/50","focus:outline-none focus:ring-4 focus:ring-[rgba(var(--primary-rgb),0.15)] focus:ring-offset-0",i&&"border-accent",r),"aria-invalid":!!i,"aria-describedby":i?"".concat(n,"-error"):void 0,...d}),i&&(0,s.jsx)("p",{id:"".concat(n,"-error"),className:"mt-1 text-xs text-destructive",children:i})]})});i.displayName="Input"},71272:(e,a,r)=>{"use strict";r.d(a,{j2:()=>c,db:()=>m});var s=r(52078),t=r(12553),o=r(19708),i=r(72377);let l=i.Ik({NEXT_PUBLIC_FIREBASE_API_KEY:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_PROJECT_ID:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_APP_ID:i.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:i.Yj().optional().default("")}).parse({NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyAakHXMCTLbL3yKqpY-CbMp2PWTV1xT7wc",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"fitnutriweb-demo.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"fitnutriweb-demo",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"fitnutriweb-demo.firebasestorage.app",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"667012576723",NEXT_PUBLIC_FIREBASE_APP_ID:"1:667012576723:web:b358df6e21c93be9ddab26",NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:"G-1E30WY7JKT"});r(64663);let d={apiKey:l.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:l.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:l.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:l.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:l.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:l.NEXT_PUBLIC_FIREBASE_APP_ID},n=l.NEXT_PUBLIC_FIREBASE_API_KEY&&l.NEXT_PUBLIC_FIREBASE_PROJECT_ID&&l.NEXT_PUBLIC_FIREBASE_APP_ID?(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(d):null,c=n?(0,t.xI)(n):void 0,m=n?(0,o.aU)(n):void 0}},e=>{e.O(0,[9135,3965,8744,2663,4909,8441,1255,7358],()=>e(e.s=25264)),_N_E=e.O()}]);