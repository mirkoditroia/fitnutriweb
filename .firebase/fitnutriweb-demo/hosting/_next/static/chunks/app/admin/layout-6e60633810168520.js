(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var s=r(95155),a=r(12115),i=r(75889),o=r(2821);let n=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="primary",size:n="md",fullWidth:l,...c}=e;return(0,s.jsx)("button",{ref:t,className:(0,i.QP)((0,o.$)("btn",{primary:"btn-primary",secondary:"btn-outline",ghost:"hover:bg-[color:var(--muted-bg)]",outline:"btn-outline"}[a],{sm:"px-3 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[n],l&&"w-full"),r),...c})});n.displayName="Button"},5751:(e,t,r)=>{Promise.resolve().then(r.bind(r,46861)),Promise.resolve().then(r.bind(r,82199))},46861:(e,t,r)=>{"use strict";r.d(t,{AdminHeader:()=>l});var s=r(95155),a=r(52619),i=r.n(a),o=r(90854),n=r(3998);function l(){let{user:e,logout:t}=(0,o.A)();return(0,s.jsx)("header",{className:"bg-black border-b border-gray-800 shadow-lg sticky top-0 z-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-white",children:"⚙️ Admin Panel"}),(0,s.jsxs)("nav",{className:"hidden md:flex gap-6",children:[(0,s.jsx)(i(),{href:"/admin",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/admin/bookings",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Prenotazioni"}),(0,s.jsx)(i(),{href:"/admin/clients",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Clienti"}),(0,s.jsx)(i(),{href:"/admin/packages",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Pacchetti"}),(0,s.jsx)(i(),{href:"/admin/content",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Contenuti"}),(0,s.jsx)(i(),{href:"/admin/availability",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"Disponibilit\xe0"}),(0,s.jsx)(i(),{href:"/admin/calendar",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"\uD83D\uDCC5 Calendario"}),(0,s.jsx)(i(),{href:"/admin/settings",className:"text-sm font-medium text-white/80 hover:text-white transition-colors",children:"⚙️ Impostazioni"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e&&(0,s.jsx)("div",{className:"hidden md:flex items-center gap-2 text-sm text-white/70",children:(0,s.jsxs)("span",{children:["\uD83D\uDC64 ",e.email]})}),(0,s.jsx)(i(),{href:"/",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors font-medium text-sm",children:"\uD83C\uDFE0 Homepage"}),(0,s.jsx)(n.$,{onClick:t,variant:"outline",className:"px-4 py-2 text-sm border-white/20 text-white hover:bg-white/10",children:"\uD83D\uDEAA Logout"})]})]})})})}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(95155),a=r(12115),i=r(75889);let o=(0,a.forwardRef)((e,t)=>{let{className:r,label:a,error:o,id:n,...l}=e,c=n||l.name||"input";return(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{htmlFor:c,className:"block text-sm font-medium mb-1 text-foreground",children:a}),(0,s.jsx)("input",{id:c,ref:t,className:(0,i.QP)("w-full rounded-lg border border-foreground/10 bg-background/70 backdrop-blur-sm px-3.5 py-2.5 text-sm text-foreground placeholder:text-foreground/50","focus:outline-none focus:ring-4 focus:ring-[rgba(var(--primary-rgb),0.15)] focus:ring-offset-0",o&&"border-accent",r),"aria-invalid":!!o,"aria-describedby":o?"".concat(c,"-error"):void 0,...l}),o&&(0,s.jsx)("p",{id:"".concat(c,"-error"),className:"mt-1 text-xs text-destructive",children:o})]})});o.displayName="Input"},71272:(e,t,r)=>{"use strict";r.d(t,{j2:()=>d,db:()=>m});var s=r(52078),a=r(12553),i=r(19708),o=r(72377);let n=o.Ik({NEXT_PUBLIC_FIREBASE_API_KEY:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_PROJECT_ID:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_APP_ID:o.Yj().optional().default(""),NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:o.Yj().optional().default("")}).parse({NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyAakHXMCTLbL3yKqpY-CbMp2PWTV1xT7wc",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"fitnutriweb-demo.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"fitnutriweb-demo",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"fitnutriweb-demo.firebasestorage.app",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"667012576723",NEXT_PUBLIC_FIREBASE_APP_ID:"1:667012576723:web:b358df6e21c93be9ddab26",NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:"G-1E30WY7JKT"});r(64663);let l={apiKey:n.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:n.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:n.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:n.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:n.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:n.NEXT_PUBLIC_FIREBASE_APP_ID},c=n.NEXT_PUBLIC_FIREBASE_API_KEY&&n.NEXT_PUBLIC_FIREBASE_PROJECT_ID&&n.NEXT_PUBLIC_FIREBASE_APP_ID?(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(l):null,d=c?(0,a.xI)(c):void 0,m=c?(0,i.aU)(c):void 0},82199:(e,t,r)=>{"use strict";r.d(t,{AdminProtected:()=>u});var s=r(95155),a=r(12115),i=r(12553),o=r(71272),n=r(3998),l=r(65142),c=r(22663);function d(e){let{onLoginSuccess:t}=e,[r,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[E,_]=(0,a.useState)(""),p=async e=>{if(e.preventDefault(),h(!0),_(""),!o.j2){_("Firebase non configurato"),h(!1);return}try{let e=await (0,i.x9)(o.j2,r,m);c.toast.success("✅ Accesso effettuato con successo!"),t(e.user)}catch(t){console.error("Errore login:",t);let e="Errore durante l'accesso";switch(t.code){case"auth/user-not-found":e="Utente non trovato";break;case"auth/wrong-password":e="Password errata";break;case"auth/invalid-email":e="Email non valida";break;case"auth/too-many-requests":e="Troppi tentativi. Riprova pi\xf9 tardi";break;case"auth/network-request-failed":e="Errore di connessione";break;default:e=t.message||"Errore sconosciuto"}_(e),c.toast.error("❌ ".concat(e))}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"\uD83D\uDD10 Admin Access"})}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:p,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground",children:"Email"}),(0,s.jsx)(l.p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>d(e.target.value),className:"mt-1",placeholder:"admin@admin.it"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground",children:"Password"}),(0,s.jsx)(l.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:m,onChange:e=>u(e.target.value),className:"mt-1",placeholder:"••••••••"})]})]}),E&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:E})}),(0,s.jsx)("div",{children:(0,s.jsx)(n.$,{type:"submit",disabled:x,className:"w-full bg-primary hover:bg-primary/90",children:x?"⏳ Accesso in corso...":"\uD83D\uDE80 Accedi"})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-xs text-foreground/50",children:"Solo gli amministratori autorizzati possono accedere"})})]})})}var m=r(90854);function u(e){let{children:t}=e,{user:r,loading:a}=(0,m.A)();return a?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-foreground/70",children:"Verifica autenticazione..."})]})}):r?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{onLoginSuccess:e=>{c.toast.success("\uD83D\uDC4B Benvenuto, ".concat(e.email))}}),(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsxs)("p",{className:"text-sm text-foreground/50",children:["Non hai ancora un account admin?"," ",(0,s.jsx)("a",{href:"/admin/setup",className:"text-primary hover:text-primary/80 underline",children:"Crea il primo account"})]})})]})}},90854:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(12115),a=r(12553),i=r(71272),o=r(22663);function n(){let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!i.j2)return void n(!1);let e=(0,a.hg)(i.j2,e=>{t(e),n(!1)});return()=>e()},[]),{user:e,loading:r,logout:async()=>{if(i.j2)try{await (0,a.CI)(i.j2),o.toast.success("\uD83D\uDC4B Logout effettuato con successo")}catch(e){console.error("Errore logout:",e),o.toast.error("❌ Errore durante il logout")}}}}}},e=>{e.O(0,[9135,3965,8744,2663,4909,2619,8441,1255,7358],()=>e(e.s=5751)),_N_E=e.O()}]);